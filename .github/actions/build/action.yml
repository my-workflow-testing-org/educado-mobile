name: Build
description: Build the project
runs:
  using: composite
  steps:
    - name: Prebuild
      shell: bash
      run: npx expo prebuild --platform android --no-install
    - name: Set Up Java
      uses: actions/setup-java@v5
      with:
        java-version: 17
        distribution: temurin
    - name: Set Up Gradle
      uses: gradle/actions/setup-gradle@v5
    - name: Build
      shell: bash
      run: |
        cd android
        ./gradlew :app:compileDebugSources -x lint -x test --no-daemon --stacktrace --warning-mode all \
        -Dorg.gradle.jvmargs="-Xmx3g \
        -XX:MaxMetaspaceSize=1g \
        -Dfile.encoding=UTF-8" \
        -Dorg.gradle.workers.max=2
